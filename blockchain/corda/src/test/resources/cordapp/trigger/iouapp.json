{
    "name": "IOUApp",
    "description": " ",
    "version": "1.0.0",
    "type": "flogo:app",
    "appModel": "1.0.0",
    "resources": [
     {
      "id": "flow:IssueIOUInitiator",
      "data": {
       "name": "IssueIOUInitiator",
       "description": "",
       "tasks": [
        {
         "id": "BuildTransactionProposal",
         "name": "BuildTransactionProposal",
         "activity": {
          "ref": "github.com/TIBCOSoftware/dovetail-contrib/CorDApp/activity/txnbuilder",
          "input": {
           "contract": "9ae09eb0-565d-11e9-9fa5-53566968a608",
           "contractClass": "com.example.iou.IOUContract",
           "command": "com.example.iou.IssueIOU",
           "input": {
            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IssueIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.issuer\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.example.iou.IOU\\\"},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}",
            "value": ""
           },
           "inputSchema": "[{\"name\":\"iou\",\"isOptional\":false,\"type\":\"com.example.iou.IOU\",\"isAsset\":true},{\"name\":\"transactionId\",\"isOptional\":false,\"type\":\"String\"},{\"name\":\"timestamp\",\"isOptional\":false,\"type\":\"DateTime\"}]"
          },
          "output": {},
          "mappings": {
           "input": [
            {
             "mapTo": "$INPUT['input']['iou']['issuer']",
             "type": "assign",
             "value": "$flow.ourIdentity"
            },
            {
             "mapTo": "$INPUT['input']['iou']['owner']",
             "type": "assign",
             "value": "$flow.transactionInput.owner"
            },
            {
             "mapTo": "$INPUT['input']['iou']['amt']",
             "type": "assign",
             "value": "$flow.transactionInput.amt"
            },
            {
             "mapTo": "$INPUT['input']['iou']['paid']['currency']",
             "type": "assign",
             "value": "$flow.transactionInput.amt.currency"
            },
            {
             "mapTo": "$INPUT['input']['iou']['paid']['quantity']",
             "type": "literal",
             "value": 0
            },
            {
             "mapTo": "$INPUT['input']['iou']['linearId']",
             "type": "expression",
             "value": "cordapp.createLinearIdFromExternalId($flow.transactionInput.extId)"
            }
           ]
          }
         }
        },
        {
         "id": "InitiatorSignandFinalizeaTransaction",
         "name": "InitiatorSignandFinalizeaTransaction",
         "activity": {
          "ref": "github.com/TIBCOSoftware/dovetail-contrib/CorDApp/activity/signandcommit",
          "input": {},
          "output": {}
         }
        }
       ],
       "links": [
        {
         "id": 1,
         "from": "BuildTransactionProposal",
         "to": "InitiatorSignandFinalizeaTransaction",
         "type": "default"
        }
       ],
       "metadata": {
        "input": [],
        "output": []
       }
      }
     },
     {
      "id": "flow:IssueIOUResponder",
      "data": {
       "name": "IssueIOUResponder",
       "description": "",
       "tasks": [
        {
         "id": "ReceiverSignandFinalizeTransaction",
         "name": "ReceiverSignandFinalizeTransaction",
         "activity": {
          "ref": "github.com/TIBCOSoftware/dovetail-contrib/CorDApp/activity/receiversign",
          "input": {},
          "output": {}
         }
        }
       ],
       "links": [],
       "metadata": {
        "input": [],
        "output": []
       }
      }
     }
    ],
    "triggers": [
     {
      "ref": "github.com/TIBCOSoftware/dovetail-contrib/CorDApp/trigger/flowinitiator",
      "name": "CorDAppFlowInitiator",
      "description": "",
      "settings": {
       "flowType": "initiator"
      },
      "id": "CorDAppFlowInitiator",
      "handlers": [
       {
        "description": "",
        "settings": {
         "useAnonymousIdentity": true,
         "hasObservers": true,
         "observerManual": false,
         "inputParams": {
          "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"partyType\":{\"type\":\"string\"}},\"required\":[\"parameterName\",\"type\",\"repeating\",\"required\",\"isEditable\",\"partyType\"]}}",
          "value": ""
         }
        },
        "outputs": {
         "transactionInput": {
          "metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"extId\":{\"type\":\"string\"},\"regulator\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\"},\\\"attributes\\\":[{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"net.corda.core.identity.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"net.corda.core.contracts.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"extId\\\",\\\"type\\\":\\\"String\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"regulator\\\",\\\"type\\\":\\\"net.corda.core.identity.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Observer\\\"}]}\"}",
          "value": ""
         }
        },
        "action": {
         "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
         "data": {
          "flowURI": "res://flow:IssueIOUInitiator"
         },
         "mappings": {
          "input": [],
          "output": []
         }
        }
       }
      ]
     },
     {
      "ref": "github.com/TIBCOSoftware/dovetail-contrib/CorDApp/trigger/flowreceiver",
      "name": "CorDAppFlowReceiver",
      "description": "",
      "settings": {
       "flowType": "receiver"
      },
      "id": "CorDAppFlowReceiver",
      "handlers": [
       {
        "description": "",
        "settings": {
           "initiatorFlow": "IssueIOUInitiator",
         "useAnonymousIdentity": true
        },
        "outputs": {},
        "action": {
         "ref": "github.com/TIBCOSoftware/flogo-contrib/action/flow",
         "data": {
          "flowURI": "res://flow:IssueIOUResponder"
         },
         "mappings": {
          "input": [],
          "output": []
         }
        }
       }
      ]
     }
    ],
    "properties": [],
    "ui": "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",
    "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL2RvdmV0YWlsLWNvbnRyaWIvQ29yREFwcCIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9Db3JEQXBwIn1d"
   }