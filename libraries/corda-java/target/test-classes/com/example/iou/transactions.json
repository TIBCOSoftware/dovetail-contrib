{
    "imports": [
        "github.com/project-flogo/flow",
        "github.com/TIBCOSoftware/dovetail-contrib/SmartContract/activity/logger",
        "github.com/TIBCOSoftware/dovetail-contrib/SmartContract/activity/ledger",
        "github.com/TIBCOSoftware/dovetail-contrib/General/activity/txnreply",
        "github.com/TIBCOSoftware/dovetail-contrib/General/activity/error",
        "github.com/TIBCOSoftware/dovetail-contrib/General/activity/mapper",
        "github.com/TIBCOSoftware/dovetail-contrib/SmartContract-Corda/activity/payment",
        "github.com/TIBCOSoftware/dovetail-contrib/General/activity/empty",
        "github.com/TIBCOSoftware/dovetail-contrib/SmartContract/trigger/transaction"
    ],
    "name": "IOUContract2",
    "description": " ",
    "version": "1.1.0",
    "type": "flogo:app",
    "appModel": "1.1.0",
    "feVersion": "2.7.0",
    "triggers": [
        {
            "ref": "#transaction",
            "name": "SmartContractTXNTrigger4",
            "description": "",
            "settings": {
                "model": "30d4b7d0-ae29-11e9-b687-0b26cc9b18a0",
                "assets": "[\"com.tibco.dovetail.system.Cash\",\"com.example.iou.IOU\"]",
                "transactions": "[\"com.example.iou.IssueIOU\",\"com.example.iou.TransferIOU\",\"com.example.iou.SettleIOU\",\"com.example.iou.getIOU\",\"com.example.iou.getIOUIssuedBy\"]",
                "concepts": "[\"com.tibco.dovetail.system.Amount\"]",
                "schemas": "[[\"com.tibco.dovetail.system.State\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"State\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{},\\\"required\\\":[],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Asset\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Asset\\\\\\\",\\\\\\\"isAbstract\\\\\\\":true,\\\\\\\"decorators\\\\\\\":[]},\\\\\\\"attributes\\\\\\\":[]}\\\"}\"],[\"com.tibco.dovetail.system.LinearState\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"LinearState\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"linearId\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Asset\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"com.tibco.dovetail.system.State\\\\\\\",\\\\\\\"isAbstract\\\\\\\":true,\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"CordaClass\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"net.corda.core.contracts.LinearState\\\\\\\"]}],\\\\\\\"cordaClass\\\\\\\":\\\\\\\"net.corda.core.contracts.LinearState\\\\\\\"},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"linearId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"}]}\\\"}\"],[\"com.tibco.dovetail.system.FungibleAsset\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"FungibleAsset\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"issuerRef\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"amt\\\",\\\"issuer\\\",\\\"issuerRef\\\",\\\"owner\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Asset\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"com.tibco.dovetail.system.State\\\\\\\",\\\\\\\"isAbstract\\\\\\\":true,\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"CordaClass\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"net.corda.core.contracts.FungibleAsset\\\\\\\"]}],\\\\\\\"cordaClass\\\\\\\":\\\\\\\"net.corda.core.contracts.FungibleAsset\\\\\\\"},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"amt\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Amount\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"issuer\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"issuerRef\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"owner\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true}]}\\\"}\"],[\"com.tibco.dovetail.system.Cash\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"Cash\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"assetId\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"issuerRef\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"assetId\\\",\\\"amt\\\",\\\"issuer\\\",\\\"issuerRef\\\",\\\"owner\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Asset\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"com.tibco.dovetail.system.FungibleAsset\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"assetId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"CordaClass\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"net.corda.finance.contracts.asset.Cash.State\\\\\\\"]}],\\\\\\\"cordaClass\\\\\\\":\\\\\\\"net.corda.finance.contracts.asset.Cash.State\\\\\\\"},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"assetId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"amt\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Amount\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"issuer\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"issuerRef\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"owner\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true}]}\\\"}\"],[\"com.tibco.dovetail.system.Amount\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"Amount\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Concept\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"CordaClass\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"net.corda.core.contracts.Amount<Currency>\\\\\\\"]},{\\\\\\\"name\\\\\\\":\\\\\\\"Embeddable\\\\\\\",\\\\\\\"args\\\\\\\":[]}],\\\\\\\"cordaClass\\\\\\\":\\\\\\\"net.corda.core.contracts.Amount<Currency>\\\\\\\"},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"currency\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"quantity\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"Long\\\\\\\",\\\\\\\"defaultValue\\\\\\\":\\\\\\\"0\\\\\\\"}]}\\\"}\"],[\"com.tibco.dovetail.system.Party\",\"{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"id\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"id\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Participant\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Participant\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"decorators\\\\\\\":[]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"id\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"}]}\\\"}\"],[\"com.example.iou.IOU\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"IOU\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"paid\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"issuer\\\",\\\"owner\\\",\\\"amt\\\",\\\"paid\\\",\\\"linearId\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Asset\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"com.tibco.dovetail.system.LinearState\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"linearId\\\\\\\",\\\\\\\"decorators\\\\\\\":[]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"issuer\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"owner\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"amt\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Amount\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"paid\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Amount\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"linearId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"}]}\\\"}\"],[\"com.example.iou.IssueIOU\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"IssueIOU\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"iou\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"paid\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"issuer\\\",\\\"owner\\\",\\\"amt\\\",\\\"paid\\\",\\\"linearId\\\"]},\\\"transactionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"timestamp\\\":{\\\"format\\\":\\\"date-time\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"iou\\\",\\\"transactionId\\\",\\\"timestamp\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Transaction\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Transaction\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"InitiatedBy\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"$tx.iou.issuer\\\\\\\"]}]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"iou\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.example.iou.IOU\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"timestamp\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"DateTime\\\\\\\"}]}\\\"}\"],[\"com.example.iou.TransferIOU\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"TransferIOU\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"iou\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"paid\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"issuer\\\",\\\"owner\\\",\\\"amt\\\",\\\"paid\\\",\\\"linearId\\\"]},\\\"newOwner\\\":{\\\"type\\\":\\\"string\\\"},\\\"transactionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"timestamp\\\":{\\\"format\\\":\\\"date-time\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"iou\\\",\\\"newOwner\\\",\\\"transactionId\\\",\\\"timestamp\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Transaction\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Transaction\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"InitiatedBy\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"$tx.iou.owner\\\\\\\"]}]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"iou\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.example.iou.IOU\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"newOwner\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"timestamp\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"DateTime\\\\\\\"}]}\\\"}\"],[\"com.example.iou.SettleIOU\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"SettleIOU\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"iou\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"paid\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"issuer\\\",\\\"owner\\\",\\\"amt\\\",\\\"paid\\\",\\\"linearId\\\"]},\\\"funds\\\":{\\\"type\\\":\\\"array\\\",\\\"items\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"assetId\\\":{\\\"type\\\":\\\"string\\\"},\\\"amt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"issuer\\\":{\\\"type\\\":\\\"string\\\"},\\\"issuerRef\\\":{\\\"type\\\":\\\"string\\\"},\\\"owner\\\":{\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"assetId\\\",\\\"amt\\\",\\\"issuer\\\",\\\"issuerRef\\\",\\\"owner\\\"]}},\\\"payAmt\\\":{\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"currency\\\":{\\\"type\\\":\\\"string\\\"},\\\"quantity\\\":{\\\"type\\\":\\\"integer\\\",\\\"default\\\":\\\"0\\\"}},\\\"required\\\":[\\\"currency\\\",\\\"quantity\\\"]},\\\"sendChangeTo\\\":{\\\"type\\\":\\\"string\\\"},\\\"sendPaymentTo\\\":{\\\"type\\\":\\\"string\\\"},\\\"transactionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"timestamp\\\":{\\\"format\\\":\\\"date-time\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"iou\\\",\\\"funds\\\",\\\"payAmt\\\",\\\"sendChangeTo\\\",\\\"sendPaymentTo\\\",\\\"transactionId\\\",\\\"timestamp\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Transaction\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Transaction\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"InitiatedBy\\\\\\\",\\\\\\\"args\\\\\\\":[\\\\\\\"$tx.iou.owner\\\\\\\"]}]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"iou\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.example.iou.IOU\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"funds\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Cash\\\\\\\",\\\\\\\"isRef\\\\\\\":true,\\\\\\\"isArray\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"payAmt\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Amount\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"sendChangeTo\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"sendPaymentTo\\\\\\\",\\\\\\\"type\\\\\\\":\\\\\\\"com.tibco.dovetail.system.Party\\\\\\\",\\\\\\\"isRef\\\\\\\":true},{\\\\\\\"name\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"timestamp\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"DateTime\\\\\\\"}]}\\\"}\"],[\"com.example.iou.getIOU\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"getIOU\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"linearId\\\":{\\\"type\\\":\\\"string\\\"},\\\"transactionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"timestamp\\\":{\\\"format\\\":\\\"date-time\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"linearId\\\",\\\"transactionId\\\",\\\"timestamp\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Transaction\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Transaction\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"Query\\\\\\\",\\\\\\\"args\\\\\\\":[]}]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"linearId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"timestamp\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"DateTime\\\\\\\"}]}\\\"}\"],[\"com.example.iou.getIOUIssuedBy\",\"{\\\"$schema\\\":\\\"http://json-schema.org/draft-04/schema#\\\",\\\"title\\\":\\\"getIOUIssuedBy\\\",\\\"type\\\":\\\"object\\\",\\\"properties\\\":{\\\"issuerPartyId\\\":{\\\"type\\\":\\\"string\\\"},\\\"transactionId\\\":{\\\"type\\\":\\\"string\\\"},\\\"timestamp\\\":{\\\"format\\\":\\\"date-time\\\",\\\"type\\\":\\\"string\\\"}},\\\"required\\\":[\\\"issuerPartyId\\\",\\\"transactionId\\\",\\\"timestamp\\\"],\\\"description\\\":\\\"{\\\\\\\"metadata\\\\\\\":{\\\\\\\"type\\\\\\\":\\\\\\\"Transaction\\\\\\\",\\\\\\\"parent\\\\\\\":\\\\\\\"org.hyperledger.composer.system.Transaction\\\\\\\",\\\\\\\"isAbstract\\\\\\\":false,\\\\\\\"identifiedBy\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"decorators\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"Query\\\\\\\",\\\\\\\"args\\\\\\\":[]}]},\\\\\\\"attributes\\\\\\\":[{\\\\\\\"name\\\\\\\":\\\\\\\"issuerPartyId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"transactionId\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"String\\\\\\\"},{\\\\\\\"name\\\\\\\":\\\\\\\"timestamp\\\\\\\",\\\\\\\"isOptional\\\\\\\":false,\\\\\\\"type\\\\\\\":\\\\\\\"DateTime\\\\\\\"}]}\\\"}\"]]"
            },
            "id": "SmartContractTXNTrigger4",
            "handlers": [
                {
                    "description": "",
                    "settings": {
                        "transaction": "com.example.iou.IssueIOU"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:IssueIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput",
                            "containerServiceStub": "=$.containerServiceStub"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "reply": {
                        "data": ""
                    },
                    "schemas": {
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IssueIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.issuer\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.example.iou.IOU\\\"},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}",
                                "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IssueIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.issuer\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.example.iou.IOU\\\"},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "transaction": "com.example.iou.SettleIOU"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:settleIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput",
                            "containerServiceStub": "=$.containerServiceStub"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "reply": {
                        "data": ""
                    },
                    "schemas": {
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"SettleIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"assetId\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}},\"required\":[\"assetId\",\"amt\",\"issuer\",\"issuerRef\",\"owner\"]}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"funds\",\"payAmt\",\"sendChangeTo\",\"sendPaymentTo\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true},{\\\"name\\\":\\\"payAmt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}",
                                "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"SettleIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"assetId\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}},\"required\":[\"assetId\",\"amt\",\"issuer\",\"issuerRef\",\"owner\"]}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"funds\",\"payAmt\",\"sendChangeTo\",\"sendPaymentTo\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true},{\\\"name\\\":\\\"payAmt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "transaction": "com.example.iou.TransferIOU"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:TransferIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput$.containerServiceStub"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "reply": {
                        "data": ""
                    },
                    "schemas": {
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"TransferIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"newOwner\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"newOwner\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}",
                                "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"TransferIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"newOwner\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"newOwner\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"}"
                            }
                        }
                    }
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:IssueIOU",
            "data": {
                "name": "IssueIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "Logger",
                        "to": "LedgerOperation",
                        "type": "expression",
                        "value": "$flow.transactionInput.iou.paid.quantity == 0"
                    },
                    {
                        "id": 2,
                        "from": "LedgerOperation",
                        "to": "TransactionReply",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "Logger",
                        "to": "ThrowException",
                        "type": "expression",
                        "value": "$flow.transactionInput.iou.paid.quantity != 0"
                    }
                ],
                "tasks": [
                    {
                        "id": "Logger",
                        "name": "Logger",
                        "activity": {
                            "ref": "#logger",
                            "input": {
                                "logLevel": "INFO",
                                "message": "issueIOU started",
                                "errorCode": "",
                                "containerServiceStub": "=$flow.containerServiceStub"
                            }
                        }
                    },
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "model": "30d4b7d0-ae29-11e9-b687-0b26cc9b18a0",
                                "assetName": "com.example.iou.IOU",
                                "operation": "PUT",
                                "isArray": false,
                                "containerServiceStub": "=$flow.containerServiceStub",
                                "identifier": "linearId",
                                "compositeKeys": "",
                                "input": {
                                    "mapping": {
                                        "issuer": "=$flow.transactionInput.iou.issuer",
                                        "owner": "=$flow.transactionInput.iou.owner",
                                        "amt": "=$flow.transactionInput.iou.amt",
                                        "paid": {
                                            "currency": "=$flow.transactionInput.iou.paid.currency",
                                            "quantity": 0
                                        },
                                        "linearId": "=$flow.transactionInput.iou.linearId"
                                    }
                                }
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "TransactionReply",
                        "name": "TransactionReply",
                        "activity": {
                            "ref": "#txnreply",
                            "input": {
                                "data": "=string.tostring($activity[LedgerOperation].output)"
                            }
                        }
                    },
                    {
                        "id": "ThrowException",
                        "name": "ThrowException",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "paid amount must be 0 for new issued IOU"
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "containerServiceStub",
                            "type": "any"
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractTXNTrigger\",\"properties\":{\"transactionInput\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IssueIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.issuer\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.example.iou.IOU\\\"},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"},\"containerServiceStub\":{\"type\":\"any\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:settleIOU",
            "data": {
                "name": "settleIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "bal",
                        "to": "PaymentProcessor",
                        "type": "expression",
                        "value": "$activity[bal].output.field >= $flow.transactionInput.payAmt.quantity && $flow.transactionInput.payAmt.currency == $flow.transactionInput.iou.amt.currency"
                    },
                    {
                        "id": 2,
                        "from": "PaymentProcessor",
                        "to": "LedgerOperation",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LedgerOperation",
                        "to": "TransactionReply",
                        "type": "default"
                    },
                    {
                        "id": 4,
                        "from": "PaymentProcessor",
                        "to": "ThrowException1",
                        "type": "error"
                    },
                    {
                        "id": 5,
                        "from": "bal",
                        "to": "ThrowException",
                        "type": "expression",
                        "value": "$activity[bal].output.field < $flow.transactionInput.payAmt.quantity || $flow.transactionInput.payAmt.currency != $flow.transactionInput.iou.amt.currency"
                    }
                ],
                "tasks": [
                    {
                        "id": "bal",
                        "name": "bal",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "model": "",
                                "dataType": "Long",
                                "isArray": false,
                                "inputArrayType": "Object Array",
                                "outputArrayType": "Object Array",
                                "rounding": "HALF_EVEN",
                                "format": "yyyy-MM-dd HH:mm:ss ZZZ",
                                "input": {
                                    "mapping": {
                                        "field": "=math.subtractLong($flow.transactionInput.iou.amt.quantity,$flow.transactionInput.iou.paid.quantity)"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"required\":[\"field\"],\"properties\":{\"field\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"required\":[\"field\"],\"properties\":{\"field\":{\"type\":\"number\"}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"required\":[\"field\"],\"properties\":{\"field\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"required\":[\"field\"],\"properties\":{\"field\":{\"type\":\"number\"}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "PaymentProcessor",
                        "name": "PaymentProcessor",
                        "activity": {
                            "ref": "#payment",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "funds": "=$flow.transactionInput.funds",
                                        "paymentAmt": "=$flow.transactionInput.payAmt",
                                        "sendPaymentTo": "=$flow.transactionInput.sendPaymentTo",
                                        "sendChangeTo": "=$flow.transactionInput.sendChangeTo"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"assetId\":{\"type\":\"string\"}}}},\"paymentAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendPaymentTo\":{\"type\":\"string\"},\"sendChangeTo\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"funds\":[{\"amt\":{\"currency\":\"\", \"quantity\":0}, \"issuer\":\"\", \"issuerRef\":\"\", \"owner\":\"\", \"assetId\":\"\"}], \"paymentAmt\":{\"currency\":\"\", \"quantity\":0}, \"sendPaymentTo\":\"\", \"sendChangeTo\":\"\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "model": "30d4b7d0-ae29-11e9-b687-0b26cc9b18a0",
                                "assetName": "com.example.iou.IOU",
                                "operation": "PUT",
                                "isArray": false,
                                "containerServiceStub": "",
                                "identifier": "linearId",
                                "compositeKeys": "",
                                "input": {
                                    "mapping": {
                                        "issuer": "=$flow.transactionInput.iou.issuer",
                                        "owner": "=$flow.transactionInput.iou.owner",
                                        "amt": "=$flow.transactionInput.iou.amt",
                                        "linearId": "=$flow.transactionInput.iou.linearId",
                                        "paid": {
                                            "currency": "=$flow.transactionInput.payAmt.currency",
                                            "quantity": "=math.sumLong($flow.transactionInput.payAmt.quantity, $flow.transactionInput.iou.paid.quantity)"
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "TransactionReply",
                        "name": "TransactionReply",
                        "activity": {
                            "ref": "#txnreply",
                            "input": {
                                "data": "=string.tostring($activity[LedgerOperation].output)"
                            }
                        }
                    },
                    {
                        "id": "ThrowException1",
                        "name": "ThrowException1",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "payment processing error"
                            }
                        }
                    },
                    {
                        "id": "ThrowException",
                        "name": "ThrowException",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "incorrect payment"
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"assetId\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}},\"required\":[\"assetId\",\"amt\",\"issuer\",\"issuerRef\",\"owner\"]}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "containerServiceStub",
                            "type": "any"
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractTXNTrigger1\",\"properties\":{\"transactionInput\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"SettleIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"assetId\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}},\"required\":[\"assetId\",\"amt\",\"issuer\",\"issuerRef\",\"owner\"]}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"funds\",\"payAmt\",\"sendChangeTo\",\"sendPaymentTo\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true},{\\\"name\\\":\\\"payAmt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"},\"containerServiceStub\":{\"type\":\"any\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:TransferIOU",
            "data": {
                "name": "TransferIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "NULLactivity",
                        "to": "LedgerOperation",
                        "type": "expression",
                        "value": "$flow.transactionInput.iou.owner != $flow.transactionInput.newOwner"
                    },
                    {
                        "id": 2,
                        "from": "LedgerOperation",
                        "to": "TransactionReply",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "NULLactivity",
                        "to": "ThrowException",
                        "type": "expression",
                        "value": "$flow.transactionInput.iou.owner == $flow.transactionInput.newOwner"
                    }
                ],
                "tasks": [
                    {
                        "id": "NULLactivity",
                        "name": "NULLactivity",
                        "activity": {
                            "ref": "#empty"
                        }
                    },
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "model": "30d4b7d0-ae29-11e9-b687-0b26cc9b18a0",
                                "assetName": "com.example.iou.IOU",
                                "operation": "PUT",
                                "isArray": false,
                                "containerServiceStub": "=$flow.containerServiceStub",
                                "identifier": "linearId",
                                "compositeKeys": "",
                                "input": {
                                    "mapping": {
                                        "issuer": "=$flow.transactionInput.iou.issuer",
                                        "owner": "=$flow.transactionInput.newOwner",
                                        "amt": "=$flow.transactionInput.iou.amt",
                                        "paid": "=$flow.transactionInput.iou.paid",
                                        "linearId": "=$flow.transactionInput.iou.linearId"
                                    }
                                }
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}",
                                        "fe_metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"IOU\",\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"linearId\\\",\\\"decorators\\\":[]},\\\"attributes\\\":[{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"amt\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"paid\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"com.tibco.dovetail.system.Amount\\\"},{\\\"name\\\":\\\"linearId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "TransactionReply",
                        "name": "TransactionReply",
                        "activity": {
                            "ref": "#txnreply",
                            "input": {
                                "data": "=string.tostring($activity[LedgerOperation].output)"
                            }
                        }
                    },
                    {
                        "id": "ThrowException",
                        "name": "ThrowException",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "new owner is same as current owner"
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"newOwner\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "containerServiceStub",
                            "type": "any"
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "string"
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractTXNTrigger2\",\"properties\":{\"transactionInput\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"title\":\"TransferIOU\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"integer\",\"default\":\"0\"}},\"required\":[\"currency\",\"quantity\"]},\"linearId\":{\"type\":\"string\"}},\"required\":[\"issuer\",\"owner\",\"amt\",\"paid\",\"linearId\"]},\"newOwner\":{\"type\":\"string\"},\"transactionId\":{\"type\":\"string\"},\"timestamp\":{\"format\":\"date-time\",\"type\":\"string\"}},\"required\":[\"iou\",\"newOwner\",\"transactionId\",\"timestamp\"],\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"org.hyperledger.composer.system.Transaction\\\",\\\"isAbstract\\\":false,\\\"identifiedBy\\\":\\\"transactionId\\\",\\\"decorators\\\":[{\\\"name\\\":\\\"InitiatedBy\\\",\\\"args\\\":[\\\"$tx.iou.owner\\\"]}]},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.iou.IOU\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true},{\\\"name\\\":\\\"transactionId\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"String\\\"},{\\\"name\\\":\\\"timestamp\\\",\\\"isOptional\\\":false,\\\"type\\\":\\\"DateTime\\\"}]}\"},\"containerServiceStub\":{\"type\":\"any\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"type\":\"string\",\"required\":false}},\"required\":[]}"
                    }
                }
            }
        }
    ],
    "properties": [
        {
            "name": "abc",
            "type": "string",
            "value": "sss"
        },
        {
            "name": "group1.g1v1",
            "type": "string",
            "value": "SECRET:f7rrbCe+EUH4Yr543CfbM+iCfw=="
        }
    ],
    "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL2RvdmV0YWlsLWNvbnRyaWIvU21hcnRDb250cmFjdCIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9TbWFydENvbnRyYWN0In0seyJyZWYiOiJnaXRodWIuY29tL1RJQkNPU29mdHdhcmUvZG92ZXRhaWwtY29udHJpYi9HZW5lcmFsIiwiczNsb2NhdGlvbiI6IntVU0VSSUR9L0dlbmVyYWwifSx7InJlZiI6ImdpdGh1Yi5jb20vVElCQ09Tb2Z0d2FyZS9kb3ZldGFpbC1jb250cmliL1NtYXJ0Q29udHJhY3QtQ29yZGEiLCJzM2xvY2F0aW9uIjoie1VTRVJJRH0vU21hcnRDb250cmFjdC1Db3JkYSJ9XQ==",
    "fe_metadata": "UEsDBAoAAAAIAAOcAU+rqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACAADnAFPq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}