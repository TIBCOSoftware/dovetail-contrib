{
    "imports": [
        "github.com/project-flogo/flow",
        "github.com/TIBCOSoftware/dovetail-contrib/Dovetail-Ledger/activity/ledger",
        "github.com/project-flogo/contrib/activity/actreturn",
        "github.com/TIBCOSoftware/dovetail-contrib/Dovetail-General/activity/sum",
        "github.com/TIBCOSoftware/dovetail-contrib/Dovetail-Ledger/activity/payment",
        "git.tibco.com/git/product/ipaas/wi-contrib.git/contributions/General/activity/mapper",
        "github.com/project-flogo/flow/activity/subflow",
        "github.com/TIBCOSoftware/dovetail-contrib/Dovetail-Ledger/trigger/action"
    ],
    "name": "IOUDemo",
    "description": " ",
    "version": "1.1.0",
    "type": "flogo:app",
    "appModel": "1.1.0",
    "feVersion": "2.6.1",
    "triggers": [
        {
            "ref": "#action",
            "name": "SmartContractActionTrigger",
            "description": "",
            "settings": {},
            "id": "SmartContractActionTrigger",
            "handlers": [
                {
                    "description": "",
                    "settings": {
                        "asset": "9bc91760-d819-11e9-8476-f5adff985017",
                        "actors": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"party\":{\"type\":\"string\"},\"certAttributes\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"party\":\"issuer\",\"certAttributes\":\"\"}]"
                        },
                        "timewindow": "Any time",
                        "input": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"},\"consuming\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"Record\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IOU\",\"consuming\":\"True\"}]"
                        },
                        "assets1": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "reply": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"AssetRef\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IOU\"}]"
                        },
                        "assets": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "assetname": "com.example.cp.IOU",
                        "assetschema": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:IssueIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}"
                            }
                        },
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "asset": "9bc91760-d819-11e9-8476-f5adff985017",
                        "actors": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"party\":{\"type\":\"string\"},\"certAttributes\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"party\":\"owner\",\"certAttributes\":\"\"}]"
                        },
                        "timewindow": "Any time",
                        "input": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"},\"consuming\":{\"type\":\"string\"}},\"required\":[\"parameterName\",\"type\",\"repeating\",\"required\",\"isEditable\",\"name\",\"recordType\",\"consuming\"]}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"AssetRef\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IOU\",\"consuming\":\"True\"},{\"parameterName\":\"\",\"type\":\"Party\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"newOwner\",\"recordType\":\"\",\"consuming\":\"True\"}]"
                        },
                        "assets1": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "reply": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"AssetRef\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IO\"}]"
                        },
                        "assets": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "assetname": "com.example.cp.IOU",
                        "assetschema": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:TransferIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IO\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IO\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}"
                            }
                        },
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"owner|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"owner|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}"
                            }
                        }
                    }
                },
                {
                    "description": "",
                    "settings": {
                        "asset": "9bc91760-d819-11e9-8476-f5adff985017",
                        "actors": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"party\":{\"type\":\"string\"},\"certAttributes\":{\"type\":\"string\"}}}}",
                            "value": "",
                            "fe_metadata": "[{\"party\":\"issuer\",\"certAttributes\":\"\"}]"
                        },
                        "timewindow": "Any time",
                        "input": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"},\"consuming\":{\"type\":\"string\"}},\"required\":[\"parameterName\",\"type\",\"repeating\",\"required\",\"isEditable\",\"name\",\"recordType\",\"consuming\"]}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"AssetRef\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IOU\",\"consuming\":\"True\"},{\"parameterName\":\"\",\"type\":\"AssetRef<Cash>\",\"repeating\":\"True\",\"required\":\"false\",\"isEditable\":true,\"name\":\"funds\",\"recordType\":\"\",\"consuming\":\"True\"},{\"parameterName\":\"\",\"type\":\"Amount<Currency>\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"payAmt\",\"recordType\":\"\",\"consuming\":\"True\"},{\"parameterName\":\"\",\"type\":\"Party\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"sendChangeTo\",\"recordType\":\"\",\"consuming\":\"True\"},{\"parameterName\":\"\",\"type\":\"Party\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"sendPaymentTo\",\"recordType\":\"\",\"consuming\":\"True\"}]"
                        },
                        "assets1": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "reply": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"parameterName\":{\"type\":\"string\"},\"type\":{\"type\":\"string\"},\"repeating\":{\"type\":\"string\"},\"required\":{\"type\":\"string\"},\"isEditable\":{\"type\":\"boolean\"},\"name\":{\"type\":\"string\"},\"recordType\":{\"type\":\"string\"}},\"required\":[\"parameterName\",\"type\",\"repeating\",\"required\",\"isEditable\",\"name\",\"recordType\"]}}",
                            "value": "",
                            "fe_metadata": "[{\"parameterName\":\"\",\"type\":\"AssetRef\",\"repeating\":\"False\",\"required\":\"false\",\"isEditable\":true,\"name\":\"iou\",\"recordType\":\"com.example.cp.IOU\"},{\"parameterName\":\"\",\"type\":\"AssetRef<Cash>\",\"repeating\":\"True\",\"required\":\"false\",\"isEditable\":true,\"name\":\"cash\",\"recordType\":\"\"}]"
                        },
                        "assets": {
                            "metadata": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"string\"}}",
                            "value": "",
                            "fe_metadata": "[\n  \"com.example.cp.IOU\",\n  \"com.example.cp.CPMasterNote\",\n  \"com.example.cp.CPRedeemRequest\",\n  \"com.example.cp.CPBuyProposal\",\n  \"com.example.cp.CPTradeContract\",\n  \"com.example.cp.CommercialPaper\"\n]"
                        },
                        "assetname": "com.example.cp.IOU",
                        "assetschema": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:SettleIOU"
                        },
                        "input": {
                            "transactionInput": "=$.transactionInput"
                        },
                        "output": {
                            "data": "=$.data"
                        }
                    },
                    "schemas": {
                        "reply": {
                            "data": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"cash\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"cash\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"cash\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"cash\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}"
                            }
                        },
                        "output": {
                            "transactionInput": {
                                "type": "json",
                                "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"payAmt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}",
                                "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"payAmt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}"
                            }
                        }
                    }
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:IssueIOU",
            "data": {
                "name": "IssueIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LedgerOperation",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "asset": "com.example.cp.IOU",
                                "txn": "IssueIOU",
                                "operation": "PUT",
                                "isArray": false,
                                "input": "=$flow.transactionInput.iou"
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}",
                                        "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "data": {
                                        "mapping": {
                                            "iou": "=$activity[LedgerOperation].output"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractActionTrigger\",\"properties\":{\"transactionInput\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:TransferIOU",
            "data": {
                "name": "TransferIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "LedgerOperation",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "asset": "com.example.cp.IOU",
                                "txn": "TransferIOU",
                                "operation": "PUT",
                                "isArray": false,
                                "input": {
                                    "mapping": {
                                        "linearId": "=$flow.transactionInput.iou.linearId",
                                        "issuer": "=$flow.transactionInput.iou.issuer",
                                        "owner": "=$flow.transactionInput.newOwner",
                                        "amt": "=$flow.transactionInput.iou.amt",
                                        "paid": "=$flow.transactionInput.iou.paid",
                                        "createDt": "=$flow.transactionInput.iou.createDt"
                                    }
                                }
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}",
                                        "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "data": {
                                        "mapping": {
                                            "iou": "=$activity[LedgerOperation].output"
                                        }
                                    }
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractActionTrigger1\",\"properties\":{\"transactionInput\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"owner|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IO\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:SettleIOU",
            "data": {
                "name": "SettleIOU",
                "description": "",
                "links": [
                    {
                        "id": 1,
                        "from": "ttlcash",
                        "to": "PaymentProcessor",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "PaymentProcessor",
                        "to": "bal",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "bal",
                        "to": "tranferIOUbackToissuer",
                        "type": "expression",
                        "value": "$activity[bal].output.remainingBal <= $activity[ttlcash].output.result"
                    },
                    {
                        "id": 4,
                        "from": "tranferIOUbackToissuer",
                        "to": "Return2",
                        "type": "default"
                    },
                    {
                        "id": 5,
                        "from": "bal",
                        "to": "LedgerOperation",
                        "type": "expression",
                        "value": "$activity[bal].output.remainingBal > $activity[ttlcash].output.result"
                    },
                    {
                        "id": 6,
                        "from": "LedgerOperation",
                        "to": "Return3",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "ttlcash",
                        "name": "ttlcash",
                        "activity": {
                            "ref": "#sum",
                            "input": {
                                "scale": 0,
                                "rounding": "HALF_EVEN",
                                "groupby": false,
                                "input": {
                                    "mapping": {
                                        "dataset": {
                                            "@foreach($flow.transactionInput.funds)": {
                                                "field": "=$.amt.quantity"
                                            }
                                        }
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"properties\":{\"dataset\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"field\":{\"type\":\"number\"}}}}},\"required\":[\"dataset\"]}",
                                        "fe_metadata": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-07/schema#\",\"properties\":{\"dataset\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"field\":{\"type\":\"number\"}}}}},\"required\":[\"dataset\"]}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"properties\":{\"result\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"properties\":{\"result\":{\"type\":\"number\"}}}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "PaymentProcessor",
                        "name": "PaymentProcessor",
                        "activity": {
                            "ref": "#payment",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "funds": "=$flow.transactionInput.funds",
                                        "paymentAmt": "=$flow.transactionInput.payAmt",
                                        "sendPaymentTo": "=$flow.transactionInput.sendPaymentTo",
                                        "sendChangeTo": "=$flow.transactionInput.sendChangeTo"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}},\"paymentAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendPaymentTo\":{\"type\":\"string\"},\"sendChangeTo\":{\"type\":\"string\"}}}",
                                        "fe_metadata": "{\"funds\":[{\"amt\":{\"currency\":\"\", \"quantity\":0}, \"issuer\":\"\", \"issuerRef\":\"\", \"owner\":\"\"}], \"paymentAmt\":{\"currency\":\"\", \"quantity\":0}, \"sendPaymentTo\":\"\", \"sendChangeTo\":\"\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "bal",
                        "name": "bal",
                        "activity": {
                            "ref": "#mapper",
                            "input": {
                                "input": {
                                    "mapping": {
                                        "remainingBal": "=$flow.transactionInput.iou.amt.quantity -$flow.transactionInput.iou.paid.quantity"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"remainingBal\":{\"type\":\"number\"}}}",
                                        "fe_metadata": "{\n    \"remainingBal\":123\n}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"remainingBal\": {\n      \"type\": \"number\"\n    }\n  }\n}",
                                        "fe_metadata": "{\n  \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n  \"type\": \"object\",\n  \"properties\": {\n    \"remainingBal\": {\n      \"type\": \"number\"\n    }\n  }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "tranferIOUbackToissuer",
                        "name": "tranferIOUbackToissuer",
                        "activity": {
                            "ref": "#subflow",
                            "settings": {
                                "flowURI": "res://flow:TransferIOU"
                            },
                            "input": {
                                "transactionInput": {
                                    "mapping": {
                                        "iou": {
                                            "linearId": "=$flow.transactionInput.iou.linearId",
                                            "issuer": "=$flow.transactionInput.iou.issuer",
                                            "owner": "=$flow.transactionInput.iou.owner",
                                            "amt": "=$flow.transactionInput.iou.amt",
                                            "paid": "=$flow.transactionInput.iou.amt",
                                            "createDt": "=$flow.transactionInput.iou.createDt"
                                        },
                                        "newOwner": "=$flow.transactionInput.iou.issuer"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "input": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"title\":\"SmartContractActionTrigger1\",\"properties\":{\"transactionInput\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"owner|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}}}",
                                        "fe_metadata": "{\"type\":\"object\",\"title\":\"SmartContractActionTrigger1\",\"properties\":{\"transactionInput\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"newOwner\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"owner|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"newOwner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}}}"
                                    }
                                },
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IO\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}},\"required\":[]}",
                                        "fe_metadata": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IO\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}},\"required\":[]}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return2",
                        "name": "Return2",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "data": {
                                        "mapping": {
                                            "iou": "=$activity[tranferIOUbackToissuer].data.iou"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LedgerOperation",
                        "name": "LedgerOperation",
                        "activity": {
                            "ref": "#ledger",
                            "input": {
                                "asset": "com.example.cp.IOU",
                                "txn": "SettleIOU",
                                "operation": "PUT",
                                "isArray": false,
                                "input": {
                                    "mapping": {
                                        "linearId": "=$flow.transactionInput.iou.linearId",
                                        "issuer": "=$flow.transactionInput.iou.issuer",
                                        "owner": "=$flow.transactionInput.iou.owner",
                                        "amt": "=$flow.transactionInput.iou.amt",
                                        "paid": {
                                            "currency": "=$flow.transactionInput.iou.amt.currency",
                                            "quantity": "=$flow.transactionInput.iou.paid.quantity + $flow.transactionInput.payAmt.quantity"
                                        },
                                        "createDt": "=$flow.transactionInput.iou.createDt"
                                    }
                                }
                            },
                            "schemas": {
                                "output": {
                                    "output": {
                                        "type": "json",
                                        "value": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}",
                                        "fe_metadata": "{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Asset\\\",\\\"name\\\":\\\"IOU\\\",\\\"module\\\":\\\"com.example.cp\\\",\\\"parent\\\":\\\"com.tibco.dovetail.system.LinearState\\\",\\\"issueSigners\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"participants\\\":[\\\"issuer\\\",\\\"owner\\\"],\\\"exitSigners\\\":[\\\"issuer\\\",\\\"owner\\\"]},\\\"attributes\\\":[{\\\"name\\\":\\\"linearId\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.UniqueIdentifier\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"issuer\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"owner\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"partyType\\\":\\\"Participant\\\"},{\\\"name\\\":\\\"amt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"paid\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"},{\\\"name\\\":\\\"createDt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Instant\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"partyType\\\":\\\"\\\"}]}\"}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "Return3",
                        "name": "Return3",
                        "activity": {
                            "ref": "#actreturn"
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transactionInput",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "output": [
                        {
                            "name": "data",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"cash\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"SmartContractActionTrigger2\",\"properties\":{\"transactionInput\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"funds\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}},\"payAmt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"sendChangeTo\":{\"type\":\"string\"},\"sendPaymentTo\":{\"type\":\"string\"}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[\\\"issuer|\\\"],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"funds\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"payAmt\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Amount<Currency>\\\",\\\"isRef\\\":false,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"sendChangeTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true},{\\\"name\\\":\\\"sendPaymentTo\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Party\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":false,\\\"isParticipant\\\":true}]}\"}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"data\":{\"schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"iou\":{\"type\":\"object\",\"properties\":{\"linearId\":{\"type\":\"string\"},\"issuer\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"},\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"paid\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"createDt\":{\"type\":\"string\",\"format\":\"date-time\"}}},\"cash\":{\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"amt\":{\"type\":\"object\",\"properties\":{\"currency\":{\"type\":\"string\"},\"quantity\":{\"type\":\"number\"}}},\"issuer\":{\"type\":\"string\"},\"issuerRef\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}},\"description\":\"{\\\"metadata\\\":{\\\"type\\\":\\\"Transaction\\\",\\\"parent\\\":\\\"\\\",\\\"actors\\\":[],\\\"asset\\\":\\\"com.example.cp.IOU\\\",\\\"timewindow\\\":{}},\\\"attributes\\\":[{\\\"name\\\":\\\"iou\\\",\\\"type\\\":\\\"com.example.cp.IOU\\\",\\\"isRef\\\":true,\\\"isArray\\\":false,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false},{\\\"name\\\":\\\"cash\\\",\\\"type\\\":\\\"com.tibco.dovetail.system.Cash\\\",\\\"isRef\\\":true,\\\"isArray\\\":true,\\\"isReferenceData\\\":false,\\\"isAsset\\\":true,\\\"isParticipant\\\":false}]}\"}},\"required\":[]}"
                    }
                }
            }
        }
    ],
    "properties": [],
    "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL2RvdmV0YWlsLWNvbnRyaWIvRG92ZXRhaWwtTGVkZ2VyIiwiczNsb2NhdGlvbiI6IntVU0VSSUR9L0RvdmV0YWlsLUxlZGdlciJ9LHsicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL2RvdmV0YWlsLWNvbnRyaWIvRG92ZXRhaWwtR2VuZXJhbCIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9Eb3ZldGFpbC1HZW5lcmFsIn0seyJyZWYiOiJnaXQudGliY28uY29tL2dpdC9wcm9kdWN0L2lwYWFzL3dpLWNvbnRyaWIuZ2l0L2NvbnRyaWJ1dGlvbnMvR2VuZXJhbCIsInMzbG9jYXRpb24iOiJUaWJjby9HZW5lcmFsIn1d",
    "fe_metadata": "UEsDBAoAAAAIAG9/Mk+rqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACABvfzJPq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}