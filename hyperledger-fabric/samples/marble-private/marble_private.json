{
    "imports": [
        "github.com/project-flogo/flow",
        "github.com/project-flogo/contrib/activity/log",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/activity/get",
        "github.com/project-flogo/contrib/activity/error",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/activity/put",
        "github.com/project-flogo/contrib/activity/actreturn",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/activity/delete",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/activity/getrange",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/activity/query",
        "github.com/TIBCOSoftware/dovetail-contrib/hyperledger-fabric/fabric/trigger/transaction",
        "github.com/project-flogo/contrib/function/array",
        "github.com/project-flogo/contrib/function/string"
    ],
    "name": "marble_private",
    "description": " ",
    "version": "2.0.0",
    "type": "flogo:app",
    "appModel": "1.1.1",
    "feVersion": "2.10.0",
    "triggers": [
        {
            "ref": "#transaction",
            "name": "fabric-transaction",
            "description": "create a new marble, store into chaincode state",
            "settings": {},
            "id": "FabricTransaction5",
            "handlers": [
                {
                    "description": "create a new marble, store into chaincode state",
                    "settings": {
                        "name": "initMarble",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:initMarble"
                        },
                        "input": {
                            "transient": {
                                "mapping": {
                                    "marble": "=$.transient.marble"
                                }
                            }
                        },
                        "output": {
                            "returns": "=$.returns",
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedger"
                        },
                        "output": {
                            "transient": "schema://MarbleRequest"
                        }
                    },
                    "name": "initMarble"
                },
                {
                    "description": "retrieve a marble state",
                    "settings": {
                        "name": "readMarble",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:readMarble"
                        },
                        "input": {
                            "parameters": {
                                "mapping": {
                                    "name": "=$.parameters.name"
                                }
                            }
                        },
                        "output": {
                            "returns": "=$.returns",
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedger"
                        },
                        "output": {
                            "parameters": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}}",
                                "fe_metadata": "{\n    \"name\":\"\"\n}"
                            }
                        }
                    },
                    "name": "readMarble"
                },
                {
                    "description": "read a marble private details from chaincode state",
                    "settings": {
                        "name": "readMarblePrivateDetails",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:readMarblePrivateDetails"
                        },
                        "input": {
                            "parameters": {
                                "mapping": {
                                    "name": "=$.parameters.name"
                                }
                            }
                        },
                        "output": {
                            "returns": "=$.returns",
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleDetail"
                        },
                        "output": {
                            "parameters": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}}",
                                "fe_metadata": "{\n    \"name\": \"\"\n}"
                            }
                        }
                    },
                    "name": "readMarblePrivateDetails"
                },
                {
                    "description": "remove a marble key/value pair from state",
                    "settings": {
                        "name": "delete",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:delete"
                        },
                        "input": {
                            "transient": {
                                "mapping": {
                                    "marble_delete": {
                                        "name": "=$.transient.marble_delete.name"
                                    }
                                }
                            }
                        },
                        "output": {
                            "returns": "=$.returns",
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedger"
                        },
                        "output": {
                            "transient": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"marble_delete\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}}}}",
                                "fe_metadata": "{\n    \"marble_delete\": {\n        \"name\": \"\"\n    }\n}"
                            }
                        }
                    },
                    "name": "delete"
                },
                {
                    "description": "transfer a marble by setting a new owner name on the marble",
                    "settings": {
                        "name": "transferMarble",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:transferMarble"
                        },
                        "input": {
                            "transient": {
                                "mapping": {
                                    "marble_owner": "=$.transient.marble_owner"
                                }
                            }
                        },
                        "output": {
                            "returns": "=$.returns",
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedger"
                        },
                        "output": {
                            "transient": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"marble_owner\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}}",
                                "fe_metadata": "{\n    \"marble_owner\": {\n        \"name\": \"\",\n        \"owner\": \"\"\n    }\n}"
                            }
                        }
                    },
                    "name": "transferMarble"
                },
                {
                    "description": "performs a range query based on the start and end keys provided",
                    "settings": {
                        "name": "getMarblesByRange",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:getMarblesByRange"
                        },
                        "input": {
                            "parameters": "=$.parameters"
                        },
                        "output": {
                            "returns": {
                                "mapping": {
                                    "@foreach($.returns,index)": {
                                        "key": "=$loop.key",
                                        "value": "=$loop.value"
                                    }
                                }
                            },
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedgerMap"
                        },
                        "output": {
                            "parameters": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"startKey\":{\"type\":\"string\"},\"endKey\":{\"type\":\"string\"}}}",
                                "fe_metadata": "{\n    \"startKey\": \"\",\n    \"endKey\": \"\"\n}"
                            }
                        }
                    },
                    "name": "getMarblesByRange"
                },
                {
                    "description": "queries for marbles based on a passed-in owner",
                    "settings": {
                        "name": "queryMarblesByOwner",
                        "validation": false
                    },
                    "action": {
                        "ref": "github.com/project-flogo/flow",
                        "settings": {
                            "flowURI": "res://flow:queryMarblesByOwner"
                        },
                        "input": {
                            "parameters": {
                                "mapping": {
                                    "owner": "=$.parameters.owner"
                                }
                            }
                        },
                        "output": {
                            "returns": {
                                "mapping": {
                                    "@foreach($.returns,index)": {
                                        "key": "=$loop.key",
                                        "value": "=$loop.value"
                                    }
                                }
                            },
                            "status": "=$.status",
                            "message": "=$.message"
                        }
                    },
                    "reply": {
                        "message": ""
                    },
                    "schemas": {
                        "reply": {
                            "returns": "schema://MarbleLedgerMap"
                        },
                        "output": {
                            "parameters": {
                                "type": "json",
                                "value": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"owner\":{\"type\":\"string\"}}}",
                                "fe_metadata": "{\n    \"owner\": \"\"\n}"
                            }
                        }
                    },
                    "name": "queryMarblesByOwner"
                }
            ]
        }
    ],
    "resources": [
        {
            "id": "flow:initMarble",
            "data": {
                "name": "initMarble",
                "description": "create a new marble, store into chaincode state",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Get",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Get",
                        "to": "LogGet",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGet",
                        "to": "ThrowError",
                        "type": "expression",
                        "label": "Exists",
                        "value": "$activity[Get].code == 200"
                    },
                    {
                        "id": 4,
                        "from": "LogGet",
                        "to": "Put",
                        "type": "expression",
                        "label": "NotExist",
                        "value": "$activity[Get].code == 300"
                    },
                    {
                        "id": 5,
                        "from": "Put",
                        "to": "LogPut",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "LogPut",
                        "to": "PutDetail",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "PutDetail",
                        "to": "LogPutDetail",
                        "type": "default"
                    },
                    {
                        "id": 8,
                        "from": "LogPutDetail",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[initMarble] \", $flow.transient.marble.name)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Get",
                        "name": "Get",
                        "description": "This activity fetches data by key from fabric ledger",
                        "activity": {
                            "ref": "#get",
                            "input": {
                                "key": "=$flow.transient.marble.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedger"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGet",
                        "name": "LogGet",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET: \", $activity[Get].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "ThrowError",
                        "name": "ThrowError",
                        "description": "",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "=string.concat(\"Marble already exists: \", $activity[Get].key)"
                            }
                        }
                    },
                    {
                        "id": "Put",
                        "name": "Put",
                        "description": "This activity stores data to fabric ledger",
                        "activity": {
                            "ref": "#put",
                            "input": {
                                "key": "=$flow.transient.marble.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]",
                                "compositeKeys": "=$property[\"CompositeKeys.ColorName\"]",
                                "data": {
                                    "mapping": {
                                        "docType": "marble",
                                        "name": "=$flow.transient.marble.name",
                                        "color": "=$flow.transient.marble.color",
                                        "size": "=$flow.transient.marble.size",
                                        "owner": "=$flow.transient.marble.owner"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "data": "schema://MarbleLedger"
                                },
                                "output": {
                                    "result": {
                                        "type": "json",
                                        "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}",
                                        "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogPut",
                        "name": "LogPut",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"PUT marble: \", $activity[Put].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "PutDetail",
                        "name": "PutDetail",
                        "description": "This activity stores data to fabric ledger",
                        "activity": {
                            "ref": "#put",
                            "input": {
                                "key": "=$flow.transient.marble.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLE_DETAILS\"]",
                                "compositeKeys": "",
                                "data": {
                                    "mapping": {
                                        "docType": "marblePrivateDetails",
                                        "name": "=$flow.transient.marble.name",
                                        "price": "=$flow.transient.marble.price"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "data": "schema://MarbleDetail"
                                },
                                "output": {
                                    "result": {
                                        "type": "json",
                                        "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"price\": {\n            \"type\": \"number\"\n        }\n    }\n}",
                                        "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"price\": {\n            \"type\": \"number\"\n        }\n    }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogPutDetail",
                        "name": "LogPutDetail",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"PUT details: \", $activity[PutDetail].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": "=$activity[Put].result",
                                    "status": "=$activity[Put].code",
                                    "message": "=$activity[Put].message"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transient",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"marble\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"}}}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"transient\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"marble\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"}}}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:readMarble",
            "data": {
                "name": "readMarble",
                "description": "retrieve a marble state",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Get",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Get",
                        "to": "LogGet",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGet",
                        "to": "Return",
                        "type": "expression",
                        "label": "Found",
                        "value": "$activity[Get].code == 200"
                    },
                    {
                        "id": 4,
                        "from": "LogGet",
                        "to": "ThrowError",
                        "type": "exprOtherwise",
                        "label": "NotFound"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[readMarble] \", $flow.parameters.name)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Get",
                        "name": "Get",
                        "description": "This activity fetches data by key from fabric ledger",
                        "activity": {
                            "ref": "#get",
                            "input": {
                                "key": "=$flow.parameters.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedger"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGet",
                        "name": "LogGet",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET: \", $activity[Get].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": "=$activity[Get].result",
                                    "status": "=$activity[Get].code",
                                    "message": "=$activity[Get].message"
                                }
                            }
                        }
                    },
                    {
                        "id": "ThrowError",
                        "name": "ThrowError",
                        "description": "",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "=string.concat(\"No data found for \", $flow.parameters.name)"
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "parameters",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"name\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"parameters\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:readMarblePrivateDetails",
            "data": {
                "name": "readMarblePrivateDetails",
                "description": "read a marble private details from chaincode state",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Get",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Get",
                        "to": "LogGet",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGet",
                        "to": "Return",
                        "type": "expression",
                        "label": "Found",
                        "value": "$activity[Get].code == 200"
                    },
                    {
                        "id": 4,
                        "from": "LogGet",
                        "to": "ThrowError",
                        "type": "exprOtherwise",
                        "label": "NotFound"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[readMarblePrivateDetails] \", $flow.parameters.name)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Get",
                        "name": "Get",
                        "description": "This activity fetches data by key from fabric ledger",
                        "activity": {
                            "ref": "#get",
                            "input": {
                                "key": "=$flow.parameters.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLE_DETAILS\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleDetail"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGet",
                        "name": "LogGet",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET details: \", $activity[Get].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": "=$activity[Get].result",
                                    "status": "=$activity[Get].code",
                                    "message": "=$activity[Get].message"
                                }
                            }
                        }
                    },
                    {
                        "id": "ThrowError",
                        "name": "ThrowError",
                        "description": "",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "=string.concat(\"Failed to get marble private details for: \", $flow.parameters.name)"
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "parameters",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"name\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"parameters\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"price\":{\"type\":\"number\"}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:delete",
            "data": {
                "name": "delete",
                "description": "remove a marble key/value pair from state",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Get",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Get",
                        "to": "LogGet",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGet",
                        "to": "ThrowError",
                        "type": "expression",
                        "label": "NotFound",
                        "value": "$activity[Get].code == 300"
                    },
                    {
                        "id": 4,
                        "from": "LogGet",
                        "to": "Delete",
                        "type": "expression",
                        "label": "Found",
                        "value": "$activity[Get].code == 200"
                    },
                    {
                        "id": 5,
                        "from": "Delete",
                        "to": "LogDelete",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "LogDelete",
                        "to": "DeleteDetail",
                        "type": "default"
                    },
                    {
                        "id": 7,
                        "from": "DeleteDetail",
                        "to": "LogDelDetail",
                        "type": "default"
                    },
                    {
                        "id": 8,
                        "from": "LogDelDetail",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[delete] \", $flow.transient.marble_delete.name)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Get",
                        "name": "Get",
                        "description": "This activity fetches data by key from fabric ledger",
                        "activity": {
                            "ref": "#get",
                            "input": {
                                "key": "=$flow.transient.marble_delete.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedger"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGet",
                        "name": "LogGet",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET: \", $activity[Get].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "ThrowError",
                        "name": "ThrowError",
                        "description": "",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "=string.concat(\"No record found for name \", $flow.transient.marble_delete.name)"
                            }
                        }
                    },
                    {
                        "id": "Delete",
                        "name": "Delete",
                        "description": "This activity deletes data from fabric world state",
                        "activity": {
                            "ref": "#delete",
                            "input": {
                                "key": "=$flow.transient.marble_delete.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]",
                                "keysOnly": false,
                                "compositeKeys": "=$property[\"CompositeKeys.ColorName\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedger"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogDelete",
                        "name": "LogDelete",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"DELETE marble: \", $activity[Delete].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "DeleteDetail",
                        "name": "DeleteDetail",
                        "description": "This activity deletes data from fabric world state",
                        "activity": {
                            "ref": "#delete",
                            "input": {
                                "key": "=$flow.transient.marble_delete.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLE_DETAILS\"]",
                                "keysOnly": false,
                                "compositeKeys": ""
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleDetail"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogDelDetail",
                        "name": "LogDelDetail",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"DELETE details: \", $activity[DeleteDetail].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": "=$activity[Delete].result",
                                    "status": "=$activity[Delete].code",
                                    "message": "=$activity[Delete].message"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transient",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"marble_delete\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"transient\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"marble_delete\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"}}}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:transferMarble",
            "data": {
                "name": "transferMarble",
                "description": "transfer a marble by setting a new owner name on the marble",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Get",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Get",
                        "to": "LogGet",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGet",
                        "to": "ThrowError",
                        "type": "expression",
                        "label": "NotFound",
                        "value": "$activity[Get].code == 300"
                    },
                    {
                        "id": 4,
                        "from": "LogGet",
                        "to": "Put",
                        "type": "expression",
                        "label": "Found",
                        "value": "$activity[Get].code == 200"
                    },
                    {
                        "id": 5,
                        "from": "Put",
                        "to": "LogPut",
                        "type": "default"
                    },
                    {
                        "id": 6,
                        "from": "LogPut",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[transferMarble] \", $flow.transient.marble_owner.name, \" new owner: \", $flow.transient.marble_owner.owner)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Get",
                        "name": "Get",
                        "description": "This activity fetches data by key from fabric ledger",
                        "activity": {
                            "ref": "#get",
                            "input": {
                                "key": "=$flow.transient.marble_owner.name",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedger"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGet",
                        "name": "LogGet",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET: \", $activity[Get].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "ThrowError",
                        "name": "ThrowError",
                        "description": "",
                        "activity": {
                            "ref": "#error",
                            "input": {
                                "message": "=string.concat(\"Marble does not exist: \", $flow.transient.marble_owner.name)"
                            }
                        }
                    },
                    {
                        "id": "Put",
                        "name": "Put",
                        "description": "This activity stores data to fabric ledger",
                        "activity": {
                            "ref": "#put",
                            "input": {
                                "key": "=$activity[Get].key",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]",
                                "compositeKeys": "",
                                "data": {
                                    "mapping": {
                                        "docType": "=$activity[Get].result.docType",
                                        "name": "=$activity[Get].result.name",
                                        "color": "=$activity[Get].result.color",
                                        "size": "=$activity[Get].result.size",
                                        "owner": "=$flow.transient.marble_owner.owner"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "data": "schema://MarbleLedger"
                                },
                                "output": {
                                    "result": {
                                        "type": "json",
                                        "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}",
                                        "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}"
                                    }
                                }
                            }
                        }
                    },
                    {
                        "id": "LogPut",
                        "name": "LogPut",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"PUT: \", $activity[Put].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": "=$activity[Put].result",
                                    "status": "=$activity[Put].code",
                                    "message": "=$activity[Put].message"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "transient",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"marble_owner\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"transient\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"marble_owner\":{\"type\":\"object\",\"properties\":{\"name\":{\"type\":\"string\"},\"owner\":{\"type\":\"string\"}}}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:getMarblesByRange",
            "data": {
                "name": "getMarblesByRange",
                "description": "performs a range query based on the start and end keys provided",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "GetRange",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "GetRange",
                        "to": "LogGetRange",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogGetRange",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"getMarblesByRange] in [\", $flow.parameters.startKey, \", \", $flow.parameters.endKey, \")\")",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "GetRange",
                        "name": "GetRange",
                        "description": "This activity fetches data by range of keys from fabric ledger",
                        "activity": {
                            "ref": "#getrange",
                            "input": {
                                "startKey": "=$flow.parameters.startKey",
                                "endKey": "=$flow.parameters.endKey",
                                "usePagination": false,
                                "pageSize": 0,
                                "start": "",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]"
                            },
                            "schemas": {
                                "output": {
                                    "result": "schema://MarbleLedgerMap"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogGetRange",
                        "name": "LogGetRange",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"GET_RANGE: \", $activity[GetRange].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": {
                                        "mapping": {
                                            "@foreach($activity[GetRange].result,index)": {
                                                "key": "=$loop.key",
                                                "value": "=$loop.value"
                                            }
                                        }
                                    },
                                    "status": "=$activity[GetRange].code",
                                    "message": "=$activity[GetRange].message"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "parameters",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"startKey\":{\"type\":\"string\"},\"endKey\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "array",
                            "schema": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"parameters\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"startKey\":{\"type\":\"string\"},\"endKey\":{\"type\":\"string\"}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}}}}},\"required\":[]}"
                    }
                }
            }
        },
        {
            "id": "flow:queryMarblesByOwner",
            "data": {
                "name": "queryMarblesByOwner",
                "description": "queries for marbles based on a passed-in owner",
                "links": [
                    {
                        "id": 1,
                        "from": "LogRequest",
                        "to": "Query",
                        "type": "default"
                    },
                    {
                        "id": 2,
                        "from": "Query",
                        "to": "LogQuery",
                        "type": "default"
                    },
                    {
                        "id": 3,
                        "from": "LogQuery",
                        "to": "Return",
                        "type": "default"
                    }
                ],
                "tasks": [
                    {
                        "id": "LogRequest",
                        "name": "LogRequest",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"[queryMarblesByOwner] \", $flow.parameters.owner)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Query",
                        "name": "Query",
                        "description": "This activity fetches data by rich query on fabric Couch DB",
                        "activity": {
                            "ref": "#query",
                            "input": {
                                "query": "{\n    \"selector\": {\n        \"docType\": \"marble\",\n        \"owner\": \"$owner\"\n    }\n}",
                                "usePagination": false,
                                "pageSize": 0,
                                "start": "",
                                "privateCollection": "=$property[\"PrivateCollections.COLLECTION_MARBLES\"]",
                                "queryParams": {
                                    "mapping": {
                                        "owner": "=$flow.parameters.owner"
                                    }
                                }
                            },
                            "schemas": {
                                "input": {
                                    "queryParams": {
                                        "type": "json",
                                        "value": "{\"type\":\"object\",\"properties\":{\"owner\":{\"type\":\"string\"}},\"required\":[]}",
                                        "fe_metadata": "[{\"parameterName\":\"owner\",\"type\":\"string\",\"repeating\":\"false\",\"required\":\"false\",\"isEditable\":true}]"
                                    }
                                },
                                "output": {
                                    "result": "schema://MarbleLedgerMap"
                                }
                            }
                        }
                    },
                    {
                        "id": "LogQuery",
                        "name": "LogQuery",
                        "description": "",
                        "activity": {
                            "ref": "#log",
                            "input": {
                                "message": "=string.concat(\"QUERY: \", $activity[Query].message)",
                                "addDetails": false,
                                "usePrint": false
                            }
                        }
                    },
                    {
                        "id": "Return",
                        "name": "Return",
                        "description": "",
                        "activity": {
                            "ref": "#actreturn",
                            "settings": {
                                "mappings": {
                                    "returns": {
                                        "mapping": {
                                            "@foreach($activity[Query].result,index)": {
                                                "key": "=$loop.key",
                                                "value": "=$loop.value"
                                            }
                                        }
                                    },
                                    "status": "=$activity[Query].code",
                                    "message": "=$activity[Query].message"
                                }
                            }
                        }
                    }
                ],
                "metadata": {
                    "input": [
                        {
                            "name": "parameters",
                            "type": "object",
                            "schema": {
                                "type": "json",
                                "value": "{\"owner\":{\"type\":\"string\"}}"
                            }
                        },
                        {
                            "name": "txID",
                            "type": "string"
                        },
                        {
                            "name": "txTime",
                            "type": "string"
                        }
                    ],
                    "output": [
                        {
                            "name": "status",
                            "type": "float64"
                        },
                        {
                            "name": "message",
                            "type": "string"
                        },
                        {
                            "name": "returns",
                            "type": "array",
                            "schema": {
                                "type": "json",
                                "value": "{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}}}"
                            }
                        }
                    ],
                    "fe_metadata": {
                        "input": "{\"type\":\"object\",\"title\":\"FabricTransaction\",\"properties\":{\"parameters\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"object\",\"properties\":{\"owner\":{\"type\":\"string\"}}},\"txID\":{\"type\":\"string\",\"required\":false},\"txTime\":{\"type\":\"string\",\"required\":false}}}",
                        "output": "{\"type\":\"object\",\"title\":\"Inputs\",\"properties\":{\"status\":{\"type\":\"number\"},\"message\":{\"type\":\"string\"},\"returns\":{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"type\":\"array\",\"items\":{\"type\":\"object\",\"properties\":{\"key\":{\"type\":\"string\"},\"value\":{\"type\":\"object\",\"properties\":{\"docType\":{\"type\":\"string\"},\"name\":{\"type\":\"string\"},\"color\":{\"type\":\"string\"},\"size\":{\"type\":\"number\"},\"owner\":{\"type\":\"string\"}}}}}}},\"required\":[]}"
                    }
                }
            }
        }
    ],
    "properties": [
        {
            "name": "PrivateCollections.COLLECTION_MARBLES",
            "type": "string",
            "value": "collectionMarbles"
        },
        {
            "name": "PrivateCollections.COLLECTION_MARBLE_DETAILS",
            "type": "string",
            "value": "collectionMarblePrivateDetails"
        },
        {
            "name": "CompositeKeys.ColorName",
            "type": "string",
            "value": "color~name=color,name"
        }
    ],
    "schemas": {
        "MarbleLedger": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"color\": {\n            \"type\": \"string\"\n        },\n        \"size\": {\n            \"type\": \"number\"\n        },\n        \"owner\": {\n            \"type\": \"string\"\n        }\n    }\n}"
        },
        "MarbleDetail": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"price\": {\n            \"type\": \"number\"\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"docType\": {\n            \"type\": \"string\"\n        },\n        \"name\": {\n            \"type\": \"string\"\n        },\n        \"price\": {\n            \"type\": \"number\"\n        }\n    }\n}"
        },
        "MarbleRequest": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"marble\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\"\n                },\n                \"color\": {\n                    \"type\": \"string\"\n                },\n                \"size\": {\n                    \"type\": \"number\"\n                },\n                \"owner\": {\n                    \"type\": \"string\"\n                },\n                \"price\": {\n                    \"type\": \"number\"\n                }\n            }\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"object\",\n    \"properties\": {\n        \"marble\": {\n            \"type\": \"object\",\n            \"properties\": {\n                \"name\": {\n                    \"type\": \"string\"\n                },\n                \"color\": {\n                    \"type\": \"string\"\n                },\n                \"size\": {\n                    \"type\": \"number\"\n                },\n                \"owner\": {\n                    \"type\": \"string\"\n                },\n                \"price\": {\n                    \"type\": \"number\"\n                }\n            }\n        }\n    }\n}"
        },
        "MarbleLedgerMap": {
            "type": "json",
            "value": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"key\": {\n                \"type\": \"string\"\n            },\n            \"value\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"docType\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"color\": {\n                        \"type\": \"string\"\n                    },\n                    \"size\": {\n                        \"type\": \"number\"\n                    },\n                    \"owner\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}",
            "fe_metadata": "{\n    \"$schema\": \"http://json-schema.org/draft-04/schema#\",\n    \"type\": \"array\",\n    \"items\": {\n        \"type\": \"object\",\n        \"properties\": {\n            \"key\": {\n                \"type\": \"string\"\n            },\n            \"value\": {\n                \"type\": \"object\",\n                \"properties\": {\n                    \"docType\": {\n                        \"type\": \"string\"\n                    },\n                    \"name\": {\n                        \"type\": \"string\"\n                    },\n                    \"color\": {\n                        \"type\": \"string\"\n                    },\n                    \"size\": {\n                        \"type\": \"number\"\n                    },\n                    \"owner\": {\n                        \"type\": \"string\"\n                    }\n                }\n            }\n        }\n    }\n}"
        }
    },
    "connections": {},
    "contrib": "W3sicmVmIjoiZ2l0aHViLmNvbS9USUJDT1NvZnR3YXJlL2RvdmV0YWlsLWNvbnRyaWIvaHlwZXJsZWRnZXItZmFicmljL2ZhYnJpYyIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9mYWJyaWMifSx7InJlZiI6ImdpdGh1Yi5jb20vcHJvamVjdC1mbG9nby9jb250cmliL2FjdGl2aXR5L2xvZyIsInMzbG9jYXRpb24iOiJ7VVNFUklEfS9EZWZhdWx0L2FjdGl2aXR5L2xvZyJ9LHsicmVmIjoiZ2l0aHViLmNvbS9wcm9qZWN0LWZsb2dvL2NvbnRyaWIvYWN0aXZpdHkvZXJyb3IiLCJzM2xvY2F0aW9uIjoie1VTRVJJRH0vRGVmYXVsdC9hY3Rpdml0eS9lcnJvciJ9XQ==",
    "fe_metadata": "UEsDBAoAAAAIAHugVFGrqSRGFQAAABMAAAAIAAAAYXBwLmpzb26rViopykxPTy1yy8kvL1ayio6tBQBQSwECFAAKAAAACAB7oFRRq6kkRhUAAAATAAAACAAAAAAAAAAAAAAAAAAAAAAAYXBwLmpzb25QSwUGAAAAAAEAAQA2AAAAOwAAAAAA"
}
